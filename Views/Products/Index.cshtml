@model List<Product>

@{
    const int PRODUCTS_PER_ROW = 3;

    int productCount = Model.Count;
    int rowsCount = (int) Math.Ceiling(((double) productCount) / PRODUCTS_PER_ROW);
}

<div class="container-fluid px-0">
    @for (int rowIndex = 0; rowIndex < rowsCount; rowIndex++)
    {
        int fromItemIndex = rowIndex * PRODUCTS_PER_ROW;
        int toItemIndex = fromItemIndex + PRODUCTS_PER_ROW;

        <div class="row">
            @for (int itemIndex = fromItemIndex; itemIndex < toItemIndex; itemIndex++)
            {
                if (itemIndex >= productCount)
                    break;

                Product product = Model[itemIndex];

                <div class="col-12 col-sm-6 col-md-4 mb-3">
                    <div class="card h-100">
                        <div class="card-body">
                            <p class="card-title">@product.Name</p>
                            <p class="card-text">
                                @if (product.Description is not null)
                                {
                                    <text>@product.Description</text>
                                }
                                else
                                {
                                    <i class="text-secondary">Описание отсутствует...</i>
                                }
                            </p>
                            <p>@product.Price</p>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
</div>